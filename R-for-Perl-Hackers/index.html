<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>R for Perl Hackers</title>

		<meta name="description" content="R for Perl Hackers">
		<meta name="author" content="Marc Egea i Sala">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="../reveal.js/css/reveal.css">
		<link rel="stylesheet" href="../reveal.js/css/theme/night.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css">

		<!--[if lt IE 9]>
		<script src="/reveal.js/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">

			<div class="slides">
				<section>
					<h1>R for Perl Hackers</h1>
          <p><a href="http://meis.github.io/talks/R-for-Perl-Hackers">http://meis.github.io/talks/R-for-Perl-Hackers</a></p>
				</section>
			</div>

			<div class="slides">
				<section>
          <p>Ladies and gentlemen, welcome to the</p>
					<h1>DISCLAIMER</h1>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>R?</h1>
          <blockquote style='text-align:justify;padding:20px' cite="http://en.wikipedia.org/wiki/R_(programming_language)">
            <small>
              <p>
                R is a programming language and software environment for statistical computing and graphics.
                The R language is widely used among statisticians and data miners for developing statistical
                software and data analysis. Polls, surveys of data miners, and studies of scholarly literature
                databases show that R's popularity has increased substantially in recent years.
              </p>
              <p>
                R is an implementation of the S programming language combined with lexical scoping semantics
                inspired by Scheme. S was created by John Chambers while at Bell Labs. There are some important
                differences, but much of the code written for S runs unaltered.
              </p>
              <p>
                R was created by Ross Ihaka and Robert Gentleman at the University of Auckland, New Zealand,
                and is currently developed by the R Development Core Team, of which Chambers is a member.
                R is named partly after the first names of the first two R authors and partly as a play on the name of S.
              </p>
              <p>
                R is a GNU project. The source code for the R software environment is written primarily in C, Fortran,
                and R. R is freely available under the GNU General Public License, and pre-compiled binary versions
                are provided for various operating systems. R uses a command line interface; there are also several
                graphical front-ends for it.
              </p>
            </small>

            <div style="text-align:right !important">
              <a href="http://en.wikipedia.org/wiki/R_(programming_language)">Wikipedia</a>
            </div>
          </blockquote>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Environment</h1>

          <ul>
            <li><code>sudo apt-get install r-base; R</code></li>
            <li>Optional IDE (RStudio)</li>
            <li>Help: "<code>help(something)</code>" or "<code>?something</code>"</li>
            <li>Example data: <code>data()</code></li>
            <li>Plotting included</li>
          </ul>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>R Language</h1>

          <ul>
            <li>Impure functional</li>
            <li>Interpreted</li>
            <li>Weakly typed</li>
            <li>Lexically scoped</li>
            <li>Everything is an object</li>
            <li class="fragment"><code>x &lt;- 'lerele'</code></li>
            <li class="fragment"><code>'larala' -&gt; y</code></li>
          </ul>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types</h1>

          <ul>
            <li>Atomic classes: numeric, logical, character, integer, complex</li>
            <li>Missing values</li>
            <li>Vectors and Matrices</li>
            <li>Factors</li>
            <li>Data frames</li>
          </ul>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Missing Values</h1>
          <ul>
            <li>NA</li>
            <li>Nan (0/0)</li>
          </ul>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Vectors</h1>

          <p>Vectors contain elements of the same type</p>
<pre><code data-trim contenteditable class="R">> x <- c(1,2,3,4)
> x
[1] 1 2 3 4

> y <- 1:32
> y
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
[26] 26 27 28 29 30 31 32 </code></pre>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Vectors</h1>

          <p>Vector arithmetics</p>
<pre>
<code data-trim contenteditable class="R">> x <- 1:10
> x * 2 </code>
<code data-trim contenteditable class="R fragment"> [1]  2  4  6  8 10 12 14 16 18 20 </code>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Vectors</h1>

          <p>Vector arithmetics</p>
<pre>
<code data-trim contenteditable class="R">> 10:1 + 1:10
</code>
<code data-trim contenteditable class="R fragment"> [1] 11 11 11 11 11 11 11 11 11 11</code>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Vectors</h1>

          <p>Vector arithmetics</p>
<pre>
<code data-trim contenteditable class="R">> c(1,2,3,4) + c(0,10)</code>
<code data-trim contenteditable class="R fragment"> [1] 1 12 3 14</code>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Vectors</h1>

          <p>Vector slicing</p>
<pre>
<code data-trim contenteditable class="R">> x <- 1:10
> x > 3
 [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE
> x[x > 3]
[1]  4  5  6  7  8  9 10 </code>
        </section>
			</div>
			<div class="slides">
				<section>
					<h1>Data Types: Vectors</h1>

          <p>Vector access</p>
<pre>
<code data-trim contenteditable class="R">> x <- (1:10)

> x[3]
[1] 3

> x[83]
[1] NA

> x[4] <- 3
> x
 [1]  1  2  3  3  5  6  7  8  9 10
 </code>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Matrices</h1>
          <p>Multi-dimension vectors<p>
<pre><code data-trim contenteditable class="R">> m <- 1:10 

> m
[1] 1 2 3 4 5 6 7 8 9 10 

> dim(m) <- c(2, 5)

> m
     [,1] [,2] [,3] [,4] [,5]
[1,]    1    3    5    7    9
[2,]    2    4    6    8   10</code></pre>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Factors</h1>

          <p>Represent categories ("labeled lists")</p>
<pre><code data-trim contenteditable class="R">> x <- factor(c("yes", "yes", "no", "yes", "no")) 

> x
[1] yes yes no yes no
Levels: no yes

> table(x) 
x
no yes 
 2   3

> unclass(x)
[1] 2 2 1 2 1
attr(,"levels")
[1] "no"  "yes"</code></pre>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Data frames</h1>
          <p>List where every element of the list have a name and the same length<p>
<pre><code data-trim contenteditable class="R">> x <- data.frame(foo = 1:4, bar = c(T, T, F, F)) 
> x
  foo   bar
1   1  TRUE
2   2  TRUE
3   3 FALSE
4   4 FALSE

> nrow(x)
[1] 4

> ncol(x)
[1] 2</code></pre>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Data frames</h1>
<pre><code data-trim contenteditable class="R">> x <- data.frame(foo = 1:4, bar = c(T, T, F, F)) 

> x$foo
[1] 1 2 3 4

> x[,'foo']
[1] 1 2 3 4

> x[1,'foo']
[1] 1

> x[1,]
  foo  bar
1   1 TRUE</code></pre>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Data Types: Data frames</h1>
<pre><code data-trim contenteditable class="R">> x <- data.frame(foo = 1:10, bar = 100:109)

> x[5:6,]
  foo bar
5   5 104
6   6 105

> x[5:6,'bar']
[1] 104 105
</code></pre>
        </section>
			</div>

			<div class="slides">
				<section>
					<h1>Objects</h1>

          <p><code>attributes()</code></p>
          <ul>
            <li>names, dimnames</li>
            <li>dimensions (e.g. matrices, arrays)</li>
            <li>class</li>
            <li>length</li>
            <li>Attributes</li>
          </ul>
          <p><code class="R fragment">&gt; Marc$promise('MoreOnObjects')</code></p>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Flow Control</h1>
          if-else
<pre><code data-trim contenteditable class="R">> w <- 3
> if  (w < 5) {
        d <- 2
    } else if (w < 10) {
        d <- 10
    } else {
        d <- 50
    }
> d
2</code></pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Flow Control</h1>
          for
<pre><code data-trim contenteditable class="R">x <- c("a", "b", "c", "d")

for(i in 1:4) {
    print(x[i])
}

for(i in seq_along(x)) {
    print(x[i])
}

for(letter in x) {
    print(letter)
}

for(i in 1:4) print(x[i])</code></pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Flow Control</h1>
          while
<pre><code data-trim contenteditable class="R">z <- 5

while(z >= 3 && z <= 10) {
    print(z)
    coin <- rbinom(1, 1, 0.5)

    if(coin == 1) {  ## random walk
      z <- z + 1
    } else {
      z <- z - 1
    }
}</code></pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Flow Control</h1>
          repeat, next, return
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Functions</h1>

<pre><code data-trim contenteditable class="R">> x = function() { print('hi') }

> x
function() { print('hi') }

> x()
[1] "hi" </code></pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Functions</h1>

          <h2>Signatures!!!</h2>
<pre class="fragment"><code data-trim contenteditable class="R">> args(lm)
function (formula, data, subset, weights, na.action, method = "qr", 
    model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, 
    contrasts = NULL, offset, ...) </code></pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Functions</h1>

          <p>Idiom: ... first</p>
<pre class="fragment"><code data-trim contenteditable class="R">> args(paste)
function (..., sep = " ", collapse = NULL)

> paste("a", "b", sep = ":")
[1] "a:b"

> paste("a", "b", se = ":")
[1] "a b :"</code></pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Functions</h1>

          <p>Scope</p>
<pre class="fragment"><code data-trim contenteditable class="R"> f1 <- function(x) {
  f2 <- function(y) {
    x <- y
  }
} </code></pre>
<pre class="fragment"><code data-trim contenteditable class="R"> f1 <- function(x) {
  f2 <- function(y) {
    x <<- y
  }
} </code></pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Plotting</h1>
          <p>plot, boxplot, hist, pie...</p>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Plotting</h1>
<pre><code>> data(women)
> plot(women)
</code></pre>
            <img style="width:25%;height:25%"src='img/plot-women.png'>
				</section>
			</div>
			<div class="slides">
				<section>
					<h1>Plotting</h1>
          use ggplot2
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Files?</h1>

          <div class="fragment">
            Executing scripts:
<pre>
<code data-trim contenteditable class="bash">m@x:~$ Rscript 
Usage: /path/to/Rscript [--options] [-e expr [-e expr2 ...] | file] [args]</code>
</pre>
          </div>
          <div class="fragment">
            Loading scripts:
<pre>
<code data-trim contenteditable class="R">source('scriptname.R')</code>
</pre>
          </div>
          <div class="fragment">
            Loading data:
<pre>
<code data-trim contenteditable class="R">> HousePrice <- read.table("houses.data")
> HouseData <- read.csv("houses.csv") </code>
</pre>
          </div>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Working With Data</h1>
          TONS of Analysis and Statitical functions
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Working With Data</h1>
          Taking a look:
<pre>
<code data-trim contenteditable class="R">> data(women)
> dim(women)
[1] 15  2
> names(women)
[1] "height" "weight"</code>
</pre>
				</section>
      </div>

			<div class="slides">
				<section>
					<h1>Working With Data</h1>
          Taking a look:
<pre>
<code data-trim contenteditable class="R">> head(women)
  height weight
1     58    115
2     59    117
3     60    120
4     61    123
5     62    126
6     63    129
> tail(women)
   height weight
10     67    142
11     68    146
12     69    150
13     70    154
14     71    159
15     72    164</code>
</pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Working With Data</h1>
          Taking a look:
<pre>
<code data-trim contenteditable class="R">> summary(women)
     height         weight     
 Min.   :58.0   Min.   :115.0  
 1st Qu.:61.5   1st Qu.:124.5  
 Median :65.0   Median :135.0  
 Mean   :65.0   Mean   :136.7  
 3rd Qu.:68.5   3rd Qu.:148.0  
 Max.   :72.0   Max.   :164.0

> str(women)
'data.frame': 15 obs. of  2 variables:
 $ height: num  58 59 60 61 62 63 64 65 66 67 ...
 $ weight: num  115 117 120 123 126 129 132 135 139 142 ...  </code>
</pre>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Working With Data</h1>
          <p>Distributions</p>
          <ul>
            <li><code>rnorm</code>: generate random Normal variates with a given mean and standard deviation</li>
            <li><code>dnorm</code>: evaluate the Normal probability density (with a given mean/SD) at a point (or vector of points)</li>
            <li><code>pnorm</code>: evaluate the cumulative distribution function for a Normal distribution</li>
            <li><code>rpois</code>: generate random Poisson variates with a given rate</li>
          </ul>
          <p>*norm, *pois, *binom, *gamma, ...</p>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Working With Data</h1>
          apply and family
<pre>
<code data-trim contenteditable class="R"># create a matrix of 10 rows x 2 columns
> m <- matrix(c(1:10, 11:20), nrow = 10, ncol = 2)

# mean of the rows
> apply(m, 1, mean)
 [1]  6  7  8  9 10 11 12 13 14 15

# mean of the columns
> apply(m, 2, mean)
[1]  5.5 15.5

# divide all values by 2
> apply(m, 1:2, function(x) x/2)
      [,1] [,2]
 [1,]  0.5  5.5
 [2,]  1.0  6.0
 [3,]  1.5  6.5
 [4,]  2.0  7.0
 [5,]  2.5  7.5
 [6,]  3.0  8.0
 [7,]  3.5  8.5
 [8,]  4.0  9.0
 [9,]  4.5  9.5
[10,]  5.0 10.0</code>
</pre>
          <p>see also lapply, tapply, sapply...</p>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>Packages</h1>

          <ul>
            <li>Standard packages</li>
            <li class="fragment">
              <h3>CRAN!!</h3>
              <ul>
                <li class="fragment">&gt; 6000 packages</li>
                <li class="fragment">Graphics, Database Drivers, Machine Learning, Genetics, NLP, Spatial...</li>
                <li class="fragment">swirl</li>
              </ul>
            </li>
          </ul>
				</section>
			</div>

			<div class="slides">
				<section>
					<h1>More?</h1>
          <div><a href="http://cran.r-project.org/manuals.html">http://cran.r-project.org/manuals.html</a></div>
          <div><a href="http://swirlstats.com/">http://swirlstats.com/</a></div>
				</section>
			</div>

			<div class="slides">
				<section>
          <h1><code>quit()</code></h1>
				</section>
			</div>

			<div class="slides">
				<section>
          <h1>Thanks</h1>
          Roger D. Peng - Examples from <a href="https://github.com/rdpeng/courses">https://github.com/rdpeng/courses</a>
          (<a href="https://tldrlegal.com/license/creative-commons-attribution-noncommercial-sharealike-%28cc-nc-sa%29">CC-NC-SA</a>)
				</section>
			</div>
		</div>

		<script src="../reveal.js/lib/js/head.min.js"></script>
		<script src="../reveal.js/js/reveal.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: '../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: '../reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
